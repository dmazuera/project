{% extends 'base.html' %}
{% block head %}



    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBywdmqR6C_Nc1Cq0BS65r4KX0Ai2AUZ14"></script>
    <script src="https://code.jquery.com/jquery.js"></script>
   <!--  <script src="/static/js/mapstyles.js"></script> -->
    <style> #diana-map {height:500px; width:500px;} </style>
    <script src="/static/js/map.js"></script>
    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>

{% endblock %}

{% block content %}

  <h1>Listings</h1>
      <h2> Select a Zipcode: </h2>

           Enter zipcode:
        <input name="searchTxt_name" type="text" maxlength="512" id="searchTxt" class="searchField"/>
        <button id="searchButton">Submit</button>
        <br>
        <br>
        <!-- <input id = "searchButton" type="submit" value="submit"/> -->


    <script>
        var map;

        $("#searchButton").on("click", function(){
            zipcode_zoom( document.getElementById("searchTxt").value)




        });
        // $("#searchButton").on("click",console.log("PIZZA"));
        // $("#searchButton").on("click",function(){console.log("HUT")});     


    </script>


    <div id="diana-map" ></div>


  

  <!--           <form action="/search_zipcode" method="GET"> -->
  <div>
    <h1> Filter Your Search</h1>
        <form id="refine-search">

            Price Range: <br>
            Min:<input type="text" size="2" name="min_price" id="min_price" required>
            Max:<input type="text" size="2" name="max_price" id="max_price" required><br>
            <br>

            Date Range: <br>
            Start:<input type="text" size="2" name="start_date" id="start_date" required>
            End:<input type="text" size="2" name="end_date" id="end_date" required><br>
            <br>

            Ad Dimensions: <br>
            Height:<input type="text" size="2" name="ad_height" id="ad-height" required>
            Width:<input type="text" size="2" name="ad_width" id="ad-width" required><br>

            <br>
            <span id="result">&nbsp;</span>
       <!--      RESULTS this time will NOT be a BOX but will make the MAP MARKERS CHANGE! -->
            <br>
          <input type="submit" id="filter_search" name="filter_search" class="btn btn-primary input-sm" value="Filter">
           
        </form>



     <script>
        var map;

        $("#filter_search").on("click", function(){
            filter_by_price( document.getElementById("min_price").value, document.getElementById("max_price").value)
        });


    </script>






  </div>
  <script> google.maps.event.addDomListener(window, 'load', initMap); </script>
<!-- <script src="http://code.jquery.com/jquery.js"></script> -->
<!-- <script src="static/js/map-refine.js"></script> -->





{% endblock %}
